<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.57.2" />
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>3. Store Golden AMI metadata. :: APN Equip Labs</title>

    
    <link href="/css/nucleus.css?1570404927" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1570404927" rel="stylesheet">
    <link href="/css/hybrid.css?1570404927" rel="stylesheet">
    <link href="/css/featherlight.min.css?1570404927" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1570404927" rel="stylesheet">
    <link href="/css/auto-complete.css?1570404927" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1570404927" rel="stylesheet">
    <link href="/css/theme.css?1570404927" rel="stylesheet">
    <link href="/css/hugo-theme.css?1570404927" rel="stylesheet">
    
      <link href="/css/theme-darkblue.css?1570404927" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1570404927"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/ami-inspector-lab/store_golden_ami_metadata/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a href=".."><img src="/images/logo.jpg" ></a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1570404927"></script>
<script type="text/javascript" src="/js/auto-complete.js?1570404927"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/example.org\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1570404927"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/vpc-lab/" title="VPC Lab" class="dd-item 
        
        
        
        ">
      <a href="/vpc-lab/">
          <b></b>VPC Lab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/vpc-lab/navigate-the-vpc-dashboard/" title="1. Navigate the VPC Dashboard" class="dd-item ">
        <a href="/vpc-lab/navigate-the-vpc-dashboard/">
        1. Navigate the VPC Dashboard
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/vpc-lab/what-did-vpc-wizard-create/" title="2. What Did VPC Wizard Create ?" class="dd-item ">
        <a href="/vpc-lab/what-did-vpc-wizard-create/">
        2. What Did VPC Wizard Create ?
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/vpc-lab/create-ec2-instance/" title="3. Create Public EC2 Instance" class="dd-item ">
        <a href="/vpc-lab/create-ec2-instance/">
        3. Create Public EC2 Instance
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/vpc-lab/test-public-ec2-instance/" title="4. Test Public EC2 Instance" class="dd-item ">
        <a href="/vpc-lab/test-public-ec2-instance/">
        4. Test Public EC2 Instance
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/vpc-lab/test-private-ec2-instance/" title="5. Test Private EC2 Instance" class="dd-item ">
        <a href="/vpc-lab/test-private-ec2-instance/">
        5. Test Private EC2 Instance
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/vpc-lab/clean-up-resources/" title="6. Clean Up Resources" class="dd-item ">
        <a href="/vpc-lab/clean-up-resources/">
        6. Clean Up Resources
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/vpc-lab/additional-resources/" title="7. Additional Resources" class="dd-item ">
        <a href="/vpc-lab/additional-resources/">
        7. Additional Resources
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/ec2-lab/" title="EC2 Lab" class="dd-item 
        
        
        
        ">
      <a href="/ec2-lab/">
          <b></b>EC2 Lab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/ec2-lab/create-new-key-pair/" title="1. Create New Key Pair" class="dd-item ">
        <a href="/ec2-lab/create-new-key-pair/">
        1. Create New Key Pair
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ec2-lab/launch-ec2-web-server/" title="2. Launch EC2 Web Server" class="dd-item ">
        <a href="/ec2-lab/launch-ec2-web-server/">
        2. Launch EC2 Web Server
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ec2-lab/browse-your-web-server/" title="3. Browse your Web Server" class="dd-item ">
        <a href="/ec2-lab/browse-your-web-server/">
        3. Browse your Web Server
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/ec2-lab-windows/" title="EC2 Lab (Windows)" class="dd-item 
        
        
        
        ">
      <a href="/ec2-lab-windows/">
          <b></b>EC2 Lab (Windows)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/ec2-lab-windows/configure-network/" title="1. Configure Network" class="dd-item ">
        <a href="/ec2-lab-windows/configure-network/">
        1. Configure Network
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ec2-lab-windows/configure-security-group/" title="2. Configure a Security Group" class="dd-item ">
        <a href="/ec2-lab-windows/configure-security-group/">
        2. Configure a Security Group
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ec2-lab-windows/configure-an-iam-user-and-policy/" title="3. Configure an IAM User and Policy" class="dd-item ">
        <a href="/ec2-lab-windows/configure-an-iam-user-and-policy/">
        3. Configure an IAM User and Policy
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ec2-lab-windows/create-windows-ec2-instance/" title="4. Create a Windows EC2 Instance" class="dd-item ">
        <a href="/ec2-lab-windows/create-windows-ec2-instance/">
        4. Create a Windows EC2 Instance
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ec2-lab-windows/validate-iam-policy/" title="5. Validate IAM Policy" class="dd-item ">
        <a href="/ec2-lab-windows/validate-iam-policy/">
        5. Validate IAM Policy
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ec2-lab-windows/cleanup/" title="6. Cleanup" class="dd-item ">
        <a href="/ec2-lab-windows/cleanup/">
        6. Cleanup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/iam-lab/" title="IAM Lab" class="dd-item 
        
        
        
        ">
      <a href="/iam-lab/">
          <b></b>IAM Lab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/iam-lab/create-iam-group/" title="1. Create IAM Group" class="dd-item ">
        <a href="/iam-lab/create-iam-group/">
        1. Create IAM Group
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/iam-lab/create-iam-user/" title="2. Create IAM User" class="dd-item ">
        <a href="/iam-lab/create-iam-user/">
        2. Create IAM User
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/iam-lab/test-iam-user/" title="3. Test IAM User" class="dd-item ">
        <a href="/iam-lab/test-iam-user/">
        3. Test IAM User
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/iam-lab/create-iam-role/" title="4. Create IAM Role" class="dd-item ">
        <a href="/iam-lab/create-iam-role/">
        4. Create IAM Role
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/iam-lab/clean-up-resources/" title="5. Clean Up Resources" class="dd-item ">
        <a href="/iam-lab/clean-up-resources/">
        5. Clean Up Resources
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/iam-lab/additional-resources/" title="6. Additional resources" class="dd-item ">
        <a href="/iam-lab/additional-resources/">
        6. Additional resources
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/s3-lab/" title="S3 Lab" class="dd-item 
        
        
        
        ">
      <a href="/s3-lab/">
          <b></b>S3 Lab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/s3-lab/create-s3-bucket/" title="1. Create S3 Bucket" class="dd-item ">
        <a href="/s3-lab/create-s3-bucket/">
        1. Create S3 Bucket
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/s3-lab/add-object-to-s3-bucket/" title="2. Add Object to S3 Bucket" class="dd-item ">
        <a href="/s3-lab/add-object-to-s3-bucket/">
        2. Add Object to S3 Bucket
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/s3-lab/move-s3-object/" title="3. Move S3 Object" class="dd-item ">
        <a href="/s3-lab/move-s3-object/">
        3. Move S3 Object
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/s3-lab/enable-bucket-versioning/" title="4. Enable Bucket Versioning" class="dd-item ">
        <a href="/s3-lab/enable-bucket-versioning/">
        4. Enable Bucket Versioning
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/s3-lab/delete-an-object-and-bucket/" title="5. Delete an Object and Bucket" class="dd-item ">
        <a href="/s3-lab/delete-an-object-and-bucket/">
        5. Delete an Object and Bucket
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/s3-lab/additional-resources/" title="6. Additional resources" class="dd-item ">
        <a href="/s3-lab/additional-resources/">
        6. Additional resources
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/monitoring-lab/" title="Monitoring Lab" class="dd-item 
        
        
        
        ">
      <a href="/monitoring-lab/">
          <b></b>Monitoring Lab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/monitoring-lab/create-sns-topic/" title="1. Create SNS Topic" class="dd-item ">
        <a href="/monitoring-lab/create-sns-topic/">
        1. Create SNS Topic
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/monitoring-lab/create-iam-role/" title="2. Create IAM Role" class="dd-item ">
        <a href="/monitoring-lab/create-iam-role/">
        2. Create IAM Role
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/monitoring-lab/launch-ec2-instance/" title="3. Launch EC2 Instance" class="dd-item ">
        <a href="/monitoring-lab/launch-ec2-instance/">
        3. Launch EC2 Instance
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/monitoring-lab/configure-cloudwatch-alarm/" title="4. Configure CloudWatch Alarm" class="dd-item ">
        <a href="/monitoring-lab/configure-cloudwatch-alarm/">
        4. Configure CloudWatch Alarm
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/monitoring-lab/monitor-ec2-cpu-utilization/" title="5. Monitor EC2 CPU Utilization" class="dd-item ">
        <a href="/monitoring-lab/monitor-ec2-cpu-utilization/">
        5. Monitor EC2 CPU Utilization
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/monitoring-lab/monitor-ec2-system-log/" title="6. Monitor EC2 System Log" class="dd-item ">
        <a href="/monitoring-lab/monitor-ec2-system-log/">
        6. Monitor EC2 System Log
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/monitoring-lab/monitor-ec2-tag/" title="7. Monitor EC2 Tag" class="dd-item ">
        <a href="/monitoring-lab/monitor-ec2-tag/">
        7. Monitor EC2 Tag
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/monitoring-lab/monitor-estimated-charges/" title="8. Monitor Estimated Charges" class="dd-item ">
        <a href="/monitoring-lab/monitor-estimated-charges/">
        8. Monitor Estimated Charges
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/security-lab/" title="Security Lab" class="dd-item 
        
        
        
        ">
      <a href="/security-lab/">
          <b></b>Security Lab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/security-lab/create-sns-topic/" title="1. Create SNS Topic" class="dd-item ">
        <a href="/security-lab/create-sns-topic/">
        1. Create SNS Topic
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/security-lab/create-iam-role/" title="2. Create IAM Role" class="dd-item ">
        <a href="/security-lab/create-iam-role/">
        2. Create IAM Role
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/security-lab/launch-ec2-instance/" title="3. Launch EC2 Instance" class="dd-item ">
        <a href="/security-lab/launch-ec2-instance/">
        3. Launch EC2 Instance
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/security-lab/monitor-ec2-security-log/" title="6. Monitor EC2 Security Log" class="dd-item ">
        <a href="/security-lab/monitor-ec2-security-log/">
        6. Monitor EC2 Security Log
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/security-lab/create-alarm-for-security-log/" title="7. Create Alarm For Security Log" class="dd-item ">
        <a href="/security-lab/create-alarm-for-security-log/">
        7. Create Alarm For Security Log
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/security-lab/test-security-alarm/" title="8. Test Security Alarm" class="dd-item ">
        <a href="/security-lab/test-security-alarm/">
        8. Test Security Alarm
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/security-lab/query-security-log/" title="10. Query Security Log" class="dd-item ">
        <a href="/security-lab/query-security-log/">
        10. Query Security Log
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/cloudformation-lab/" title="CloudFormation Lab" class="dd-item 
        
        
        
        ">
      <a href="/cloudformation-lab/">
          <b></b>CloudFormation Lab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/cloudformation-lab/explore_template/" title="1. Exploring the templates" class="dd-item ">
        <a href="/cloudformation-lab/explore_template/">
        1. Exploring the templates
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cloudformation-lab/create_stack/" title="2. Create Stack" class="dd-item ">
        <a href="/cloudformation-lab/create_stack/">
        2. Create Stack
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cloudformation-lab/change_stack/" title="3. Change Your Stack" class="dd-item ">
        <a href="/cloudformation-lab/change_stack/">
        3. Change Your Stack
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/cloudformation-lab/update_stack/" title="4. Update Stack" class="dd-item ">
        <a href="/cloudformation-lab/update_stack/">
        4. Update Stack
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/ami-inspector-lab/" title="Golden AMI Assessment Lab" class="dd-item 
        parent
        
        
        ">
      <a href="/ami-inspector-lab/">
          <b></b>Golden AMI Assessment Lab
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/ami-inspector-lab/solutions_overview/" title="1. Solutions Overview" class="dd-item ">
        <a href="/ami-inspector-lab/solutions_overview/">
        1. Solutions Overview
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ami-inspector-lab/tag_golden_ami/" title="2. Tag your Golden AMI" class="dd-item ">
        <a href="/ami-inspector-lab/tag_golden_ami/">
        2. Tag your Golden AMI
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ami-inspector-lab/store_golden_ami_metadata/" title="3. Store Golden AMI metadata." class="dd-item active">
        <a href="/ami-inspector-lab/store_golden_ami_metadata/">
        3. Store Golden AMI metadata.
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ami-inspector-lab/create_automation_function/" title="4. Create Automation Functions" class="dd-item ">
        <a href="/ami-inspector-lab/create_automation_function/">
        4. Create Automation Functions
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ami-inspector-lab/test_assesment/" title="5. Test Assesment" class="dd-item ">
        <a href="/ami-inspector-lab/test_assesment/">
        5. Test Assesment
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      
    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Welcome</a> > <a href='/ami-inspector-lab/'>Golden AMI Assessment Lab</a> > 3. Store Golden AMI metadata.
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">

    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              3. Store Golden AMI metadata.
            </h1>
          

        



<p>This solution reads golden AMI metadata from a parameter stored in the Systems Manager Parameter Store. The metadata must be in JSON format and must contain the following information for each golden AMI:</p>

<ul>
<li><code>Ami-Id</code></li>
<li><code>InstanceType</code></li>
<li><code>UserData</code></li>
</ul>

<p><strong>Step A:</strong> Find the AMI ID of your golden AMI.</p>

<p>An AMI ID uniquely identifies an AMI in an AWS Region and is a required parameter for launching an EC2 instance from a golden AMI. To find the AMI ID of your golden AMI:</p>

<ol>
<li>Sign in to the <a href="https://console.aws.amazon.com/console/home">AWS Management Console</a> and navigate to the <a href="https://console.aws.amazon.com/ec2/">EC2 console</a>.</li>
<li>In the navigation pane, choose <strong>AMIs</strong>.</li>
<li>Choose your AMI from the list and then note the corresponding value in the <strong>AMI ID</strong> column.</li>
</ol>

<p><strong>Step B:</strong> Find a compatible <code>InstanceType</code> for your golden AMI.</p>

<p>Each AMI has a list of compatible <code>InstanceTypes</code>. The <code>InstanceType</code> is a required parameter for launching an EC2 instance from a golden AMI. To find a compatible <code>InstanceType</code> for your golden AMI:</p>

<ol>
<li>Sign in to the <a href="https://console.aws.amazon.com/console/home">AWS Management Console</a> and navigate to the <a href="https://console.aws.amazon.com/ec2/">EC2 console</a>.</li>
<li>Choose <strong>Launch Instance</strong>. On the <strong>Choose an Amazon Machine Image</strong> (<strong>AMI</strong>) page, choose <strong>My AMIs</strong>.</li>
<li>Type the <strong>AMI ID</strong> that you noted in Step A in the <strong>Search my AMIs</strong> box, and then choose <strong>Enter</strong>.</li>
<li>The search result will contain your golden AMI. To choose it, choose <strong>Select</strong>.</li>
<li>Locate any available <strong>Instance Type</strong> and then note the corresponding value in the <strong>Type</strong> column.</li>
<li>Choose <strong>Cancel</strong>.</li>
</ol>

<p><strong>Note:</strong> Amazon Inspector will launch the chosen <code>InstanceType</code> every time the vulnerability assessment runs.</p>

<p><strong>Step C:</strong> Create the <code>user-data</code> script to install and start the Amazon Inspector agent.</p>

<p>The <code>user-data</code> script automates the installation of software packages when an EC2 instance launches for the first time. In this step, you create an operating system specific, JSON-compatible user-data script that installs and starts the Amazon Inspector agent.</p>

<ol>
<li>Identify the command that installs the Amazon Inspector agent</li>
</ol>

<p>Based on <a href="http://docs.aws.amazon.com/inspector/latest/userguide/inspector_installing-uninstalling-agents.html">Installing Amazon Inspector Agents</a>, the following shell command installs the Amazon Inspector agent on an Amazon Linux-based EC2 instance.</p>

<div class="hide-language">

    wget https://d1wk0tztpsntt1.cloudfront.net/linux/latest/install
    bash install

</div>

<p>To find this command for other operating systems, see <a href="http://docs.aws.amazon.com/inspector/latest/userguide/inspector_installing-uninstalling-agents.html">Installing Amazon Inspector Agents</a>.</p>

<ol>
<li>Identify the command that starts the Amazon Inspector agent</li>
</ol>

<p>The following shell command starts the Amazon Inspector agent on an Amazon Linux-based EC2 instance.</p>

<pre><code>sudo /etc/init.d/awsagent start
</code></pre>

<p>To find this command for other operating systems, see <a href="http://docs.aws.amazon.com/inspector/latest/userguide/inspector_agents.html">Amazon Inspector Agents</a>.</p>

<ol>
<li>Create a script by concatenating the commands from the preceding two steps</li>
</ol>

<p>The following is a sample concatenated script for the Amazon Linux operating system that installs and starts an Amazon Inspector agent.</p>

<pre><code>wget https://d1wk0tztpsntt1.cloudfront.net/linux/latest/install
bash install
sudo /etc/init.d/awsagent start
</code></pre>

<ol>
<li>Make the script user-data compatible</li>
</ol>

<p>Based on <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html#user-data-api-cli">Running Commands on Your Linux Instance at Launch</a>, you make a Linux shell script user-data compatible by prefixing it with a <code>#!/bin/bash</code>. In this step, you add the <code>#!/bin/bash</code> prefix to the script from the preceding step. The following is the user-data compatible version of the script from the preceding step.</p>

<pre><code>#!/bin/bash
wget https://d1wk0tztpsntt1.cloudfront.net/linux/latest/install
bash install
sudo /etc/init.d/awsagent start
</code></pre>

<p>To make your script user-data compatible for Windows, see <a href="http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-user-data.html">Running Commands on Your Windows Instance at Launch</a>.</p>

<p>The <code>user-data</code> script provided in the JSON metadata must be JSON-compatible, which you will do next.</p>

<ol>
<li>Make the user-data script JSON compatible</li>
</ol>

<p>To make the user-data script JSON compatible, you must replace all new-line characters with a <code>\r\n\r\n</code> sequence. The following is the JSON-compatible user-data script that you specify for your Amazon Linux-based golden AMI in Step D.</p>

<p><span style="text-decoration: underline"><strong><code>JSON-compatible-user-data-for-Amazon-Linux-AMI</code></strong></span></p>

<pre><code>#!/bin/bash \r\n\r\nwget https://d1wk0tztpsntt1.cloudfront.net/linux/latest/install \r\n\r\nbash install \r\n\r\nsudo /etc/init.d/awsagent start
</code></pre>

<p>Repeat Steps A, B, and C to find the <code>Ami Id</code>, <code>InstanceType</code>, and <code>UserData</code> for each of your golden AMIs. When you have this metadata, you can create the JSON document of metadata for all your golden AMIs. The <code>StartContinuousAssessment</code> Lambda function reads this JSON to start golden AMI vulnerability assessments.</p>

<p><strong>Step D</strong>: Create a JSON document of metadata of all your golden AMIs.</p>

<p>Use the following template to create a JSON document:</p>

<div class="hide-language">

    [   
        { 
            "instanceType": "instance-type-of-first-AMI", 
            "ami-id": "AMI-ID-of-first-AMI", 
            "userData": "JSON-compatible-user-data-of-first-AMI"
         },
        { 
            "instanceType": "instance-type-of-second-AMI",
            "ami-id": "AMI-ID-of-second-AMI",
            "userData": "JSON-compatible-user-data-of-second-AMI" 
        }
    ]

</div>

<p>Replace all <span style="color: #ff0000"><strong>placeholder values</strong></span> with values corresponding to your first golden AMI. If your golden AMI is Amazon Linux-based, you can specify the <code>userData</code> as the <code>JSON-compatible-user-data-for-Amazon-Linux-AMI</code> from Step C.5. Next, replace the <span style="color: #0000ff"><strong>placeholder values</strong></span> for your second golden AMI. You can add more entries to your JSON document, if you have more than two golden AMIs.</p>

<p><strong>Note</strong><strong>:</strong> The total number of characters in the JSON document must be fewer than or equal to 4,096 characters, and the number of golden AMIs must be fewer than 500. You must verify whether your account has permissions to run one on-demand EC2 instance for each of your golden AMIs. For information about how to verify service limits, see <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-resource-limits.html">Amazon EC2 Service Limits</a>.</p>

<p>Now that you have created the JSON document of your golden AMIs, you will store the JSON document in a Systems Manager parameter. The <code>StartContinuousAssessment</code> Lambda function will read the metadata from this parameter.</p>

<p><strong>Step E:</strong> Store the JSON in a Systems Manager parameter.</p>

<p>To store the JSON in a Systems Manager parameter:</p>

<ol>
<li>Sign in to the <a href="https://console.aws.amazon.com/console/home">AWS Management Console</a> and navigate to the <a href="https://console.aws.amazon.com/ec2/">EC2 console</a>.</li>
<li>Expand <strong>Systems Manager Shared Resources</strong> in the navigation pane, and then choose <strong>Parameter Store</strong>.</li>
<li>Choose <strong>Create Parameter</strong>.</li>
<li>For <strong>Name</strong>, type <code>ContinuousAssessmentInput</code>.</li>
<li>In the <strong>Description</strong> field, type <code>Continuous golden AMI vulnerability assessment process metadata</code>.</li>
<li>For <strong>Type</strong>, choose <strong>String</strong>.</li>
<li>Paste the JSON that you created in <strong>Step D</strong> in the <strong>Value</strong> field.</li>
<li>Choose <strong>Create Parameter</strong>. After the system creates the parameter, choose <strong>Close</strong>.</li>
</ol>

<p>To set up the remaining components required to run assessments, you will run a CloudFormation template and perform the configuration explained in the next section.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/ami-inspector-lab/tag_golden_ami/" title="2. Tag your Golden AMI"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/ami-inspector-lab/create_automation_function/" title="4. Create Automation Functions" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1570404927"></script>
    <script src="/js/perfect-scrollbar.min.js?1570404927"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1570404927"></script>
    <script src="/js/jquery.sticky.js?1570404927"></script>
    <script src="/js/featherlight.min.js?1570404927"></script>
    <script src="/js/highlight.pack.js?1570404927"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1570404927"></script>
    <script src="/js/learn.js?1570404927"></script>
    <script src="/js/hugo-learn.js?1570404927"></script>

    <link href="/mermaid/mermaid.css?1570404927" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1570404927"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

